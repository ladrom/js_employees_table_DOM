{"version":3,"sources":["scripts/main.js"],"names":["isMatched","oldData","table","document","querySelector","body","isAscending","errors","inputTypes","form","createElement","classList","add","append","insertAdjacentHTML","inputs","querySelectorAll","i","length","required","button","showMessage","type","text","notification","setAttribute","style","width","firstElementChild","innerHTML","lastElementChild","top","setTimeout","remove","toSortColumns","index","children","rows","arrRows","sorted","sort","a","b","valueA","cells","replace","valueB","isNaN","localeCompare","toHighlight","item","parentElement","convertSalary","target","num","split","join","toLocaleString","changeData","error","value","trim","focus","salary","addEventListener","e","preventDefault","employeeName","position","office","age","finalRow","forEach","input","tagName","cellIndex","getComputedStyle","selectInput","editInput","maxWidth","contains","code","blur"],"mappings":"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","file":"main.671cc459.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst body = document.querySelector('tbody');\nlet isAscending = true;\nlet isMatched;\nlet oldData;\n\nconst errors = [\n  'Enter valid name',\n  'Enter valid position',\n  'Office was not changed',\n  'Enter valid age',\n  'Enter valid salary',\n];\n\nconst inputTypes = [\n  'textInput',\n  'textInput',\n  'select',\n  'age',\n  'salary',\n];\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\ndocument.body.append(form);\n\nform.insertAdjacentHTML('afterbegin', `\n<label>Name: <input data-qa=\"name\" name=\"name\" type=\"text\"></label>\n<label>Position: <input data-qa=\"position\" name=\"position\" type=\"text\"></label>\n<label>Office: <select data-qa=\"office\" name=\"office\">\n  <option value = \"Tokyo\">Tokyo</option>\n  <option value = \"Singapore\">Singapore</option>\n  <option value = \"London\">London</option>\n  <option value = \"New York\">New York</option>\n  <option value = \"Edinburgh\">Edinburgh</option>\n  <option value = \"San Francisco\">San Francisco</option>\n</select></label>\n<label>Age: <input data-qa=\"age\" name=\"age\" type=\"number\"></label>\n<label>Salary: <input data-qa=\"salary\" name=\"salary\" type=\"number\"></label>\n<button>Save to table</button>\n`);\n\nconst inputs = document.querySelectorAll('input');\n\nfor (let i = 0; i < inputs.length; i++) {\n  inputs[i].required = true;\n}\n\nconst button = document.querySelector('button');\n\nbutton.addEventListener('click', e => {\n  e.preventDefault();\n\n  const employeeName = document.querySelector('input[name=\"name\"]');\n  const position = document.querySelector('input[name=\"position\"]');\n  const office = document.querySelector('select[name=\"office\"]');\n  const age = document.querySelector('input[name=\"age\"]');\n  const salary = document.querySelector('input[name=\"salary\"]');\n  const finalRow = document.createElement('tr');\n\n  finalRow.insertAdjacentHTML('afterbegin', `\n    <td>${employeeName.value}</td>\n    <td>${position.value}</td>\n    <td>${office.value}</td>\n    <td>${age.value}</td>\n    <td>$${salary.value}</td>\n  `);\n\n  if (employeeName.value.length < 4) {\n    showMessage('error', 'Enter valid name');\n  } else if (age.value < 18 || age.value > 90) {\n    showMessage('error', 'Enter valid age');\n  } else if (!salary.value || salary.value < 0) {\n    showMessage('error', 'Enter valid salary');\n  } else if (!position.value) {\n    showMessage('error', 'Enter valid position');\n  } else {\n    showMessage('success', 'A new employee was added!');\n\n    inputs.forEach(function(input) {\n      input.value = '';\n    });\n    office.value = 'Tokyo';\n    body.append(finalRow);\n  }\n\n  convertSalary();\n});\n\ntable.addEventListener('click', e => {\n  const item = e.target;\n\n  if (item.tagName === 'TH') {\n    const index = e.target.cellIndex;\n\n    toSortColumns(index);\n  }\n\n  if (item.tagName === 'TD') {\n    toHighlight(item);\n  }\n});\n\nbody.addEventListener('dblclick', e => {\n  const item = e.target;\n  const index = item.cellIndex;\n  const style = getComputedStyle(item);\n  const width = style.width;\n\n  if (item.tagName === 'TD') {\n    if (index === 2) {\n      const selectInput = document.createElement('select');\n\n      oldData = item.innerHTML;\n      item.innerHTML = '';\n\n      selectInput.innerHTML = `\n        <select data-qa=\"office\" name=\"office\">\n          <option value = \"Tokyo\">Tokyo</option>\n          <option value = \"Singapore\">Singapore</option>\n          <option value = \"London\">London</option>\n          <option value = \"New York\">New York</option>\n          <option value = \"Edinburgh\">Edinburgh</option>\n          <option value = \"San Francisco\">San Francisco</option>\n        </select>\n      `;\n      selectInput.classList.add('cell-input');\n      selectInput.value = oldData;\n      item.append(selectInput);\n      selectInput.focus();\n    } else {\n      const editInput = document.createElement('input');\n\n      editInput.style.maxWidth = width;\n      oldData = item.innerHTML;\n      editInput.classList.add('cell-input');\n      item.innerHTML = '';\n      editInput.value = oldData;\n      item.append(editInput);\n\n      editInput.focus();\n    }\n  }\n});\n\nbody.addEventListener('focusout', e => {\n  const item = e.target;\n  const index = item.parentElement.cellIndex;\n\n  if (item.classList.contains('cell-input')) {\n    changeData(inputTypes[index], item, errors[index]);\n  }\n});\n\ndocument.body.addEventListener('keydown', e => {\n  const item = e.target;\n\n  if (!item.classList.contains('cell-input')) {\n    return;\n  }\n\n  if (e.code === 'Enter') {\n    e.target.blur();\n  }\n});\n\nfunction showMessage(type, text) {\n  const notification = document.createElement('div');\n\n  notification.setAttribute('data-qa', 'notification');\n  notification.classList.add('notification');\n  notification.style.width = '200px';\n\n  notification.insertAdjacentHTML('afterbegin', `\n    <h3 class=\"title\"></h3>\n    <p></p>\n  `);\n  document.body.append(notification);\n\n  switch (type) {\n    case 'error':\n      notification.firstElementChild.innerHTML = 'Warning!';\n\n      notification.lastElementChild.innerHTML\n        = text;\n      notification.classList.add('error');\n      break;\n\n    case 'success':\n      notification.firstElementChild.innerHTML = 'Congrats!';\n      notification.lastElementChild.innerHTML = text;\n      notification.classList.add('success');\n      notification.style.top = '140px';\n      break;\n  };\n\n  setTimeout(() => notification.remove(), 2000);\n};\n\nfunction toSortColumns(index) {\n  if (isMatched === index) {\n    isAscending = !isAscending;\n  } else {\n    isMatched = index;\n    isAscending = true;\n  }\n\n  for (let i = 0; i < table.children[1].rows.length; i++) {\n    const arrRows = [...table.children[1].rows];\n    const sorted = arrRows.sort((a, b) => {\n      const valueA = a.cells[index].innerHTML.replace(/\\$|,/g, '');\n      const valueB = b.cells[index].innerHTML.replace(/\\$|,/g, '');\n\n      if (isAscending) {\n        return isNaN(valueA) ? valueA.localeCompare(valueB) : valueA - valueB;\n      } else {\n        return isNaN(valueA) ? valueB.localeCompare(valueA) : valueB - valueA;\n      };\n    });\n\n    body.append(...sorted);\n  }\n};\n\nfunction toHighlight(item) {\n  for (let i = 0; i < table.children[1].rows.length; i++) {\n    table.children[1].rows[i].classList.remove('active');\n  }\n  item.parentElement.classList.add('active');\n}\n\nfunction convertSalary() {\n  for (let i = 0; i < table.children[1].rows.length; i++) {\n    const target = table.children[1].rows;\n    const string\n      = target[i].children[4].innerHTML.split('$').join('').split(',').join('');\n    const num = +string;\n\n    target[i].children[4].innerHTML\n      = `$${num.toLocaleString('en-US')}`;\n  }\n}\n\nfunction changeData(type, target, error) {\n  switch (type) {\n    case 'textInput':\n      if (target.value.trim().length === 0) {\n        showMessage('error', error);\n        target.value = oldData;\n        target.focus();\n      } else {\n        target.parentElement.innerHTML = target.value;\n      };\n      break;\n\n    case 'select':\n\n      target.parentElement.innerHTML = target.value;\n      break;\n\n    case 'age':\n      if (target.value < 18 || target.value > 90 || isNaN(target.value)) {\n        showMessage('error', error);\n        target.value = oldData;\n        target.focus();\n      } else {\n        target.parentElement.innerHTML = target.value;\n      };\n      break;\n\n    case 'salary':\n      const salary = target.value.split('$').join('').split(',').join('');\n\n      if (!salary.trim() || salary < 0 || isNaN(salary)) {\n        showMessage('error', error);\n        target.value = oldData;\n        target.focus();\n      } else {\n        const num = +salary;\n\n        target.parentElement.innerHTML = `$${num.toLocaleString('en-US')}`;\n      };\n      break;\n  }\n}\n"]}